$(document).ready(function() {
    $('#user_is_seller').on('change', function() {
        if ($(this).is(':checked')) { // チェックされた場合
            let descriptionLength = $('#user_description').val().length;
            let hasImage = ($('#user_image').val().length > 0 || <%= @user.image.present?%><%%>);
            console.log($('#user_image').val().length > 0)
            if (descriptionLength <= 100) {
                let $checkbox = $(this);
                setTimeout(() => {
                    alert('回答者登録には自己紹介が100字以上必要です');
                    $checkbox.prop('checked', false);
                }, 0);
                return;
            }


            if (!hasImage) {
                let $checkbox = $(this);
                setTimeout(() => {
                    alert('回答者登録にはプロフィール画像が必要です');
                    $checkbox.prop('checked', false);
                }, 0);
                return;
            }
        }
    });
    $('.check_box_area').on('click', function() {
        if ($(event.target).hasClass('check_box')) {
            return;
        }
        let $checkbox = $(this).find('.check_box');
        $checkbox.prop('checked', !$checkbox.prop('checked')).trigger('change');
    });
});
