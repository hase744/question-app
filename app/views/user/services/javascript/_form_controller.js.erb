
//セレクトボックスが空白の時、エラーを起こす
$("form").submit(function(event) {
  errorLabels = [];
  $(".service_new_area select:visible").each(function() {
    var labelText = $(this).closest('.field_area').find('.field_label').text();
    var selectedValue = $(this).val();
    if (!selectedValue) {
      errorLabels.push(labelText);
    }
  });
  if(errorLabels.length > 0){
    alert(`${errorLabels.join(', ')}を選択してください`);
    return false;
  }
});

//追加相談室日数が0日の時＊追加質問を受け付けないと表示させる
$("#service_transaction_message_days").on("change", function() {
  update_transaction_message_days();
});

function update_transaction_message_days(){
  if ($("#service_transaction_message_days").val() === "0") {
    $(".transaction_message_alert").show();
  } else {
    $(".transaction_message_alert").hide();
  }
}

$('#service_request_form_name').change(function(){
  var selectedValue = $(this).val();
  if(selectedValue === "video") {
    $('.video_field_area').css('display', 'block');
  } else {
    $('.video_field_area').css('display', 'none');
  }
});
update_transaction_message_days();